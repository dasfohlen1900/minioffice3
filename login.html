<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aeropus Login</title>

<!-- Font preload & inline @font-face -->
<style>
@font-face {
  font-family: 'Aeropus UI II';
  src: url('/fonts/AeropusUIII-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

body {
  font-family: 'Aeropus UI II', system-ui, sans-serif;
  margin: 0;
  padding: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background: #f5f5f5;
}

.login-container {
  background: #fff;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  text-align: center;
}

h2 {
  margin-bottom: 1.5rem;
  color: #111;
}

input {
  width: 100%;
  padding: 0.8rem;
  margin-bottom: 1rem;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 1rem;
}

button {
  width: 100%;
  padding: 0.8rem;
  border: none;
  border-radius: 6px;
  background: #00b37e;
  color: #fff;
  font-size: 1rem;
  cursor: pointer;
  transition: background 0.2s;
}

button:hover {
  background: #02976a;
}
</style>

</head>
<body>

<div class="login-container">
  <h2>Login mit Aeropus Account</h2>
  <form id="magicForm">
    <input type="email" id="email" placeholder="Deine E-Mail" required>
    <button type="submit">Login per Magic Link</button>
  </form>
</div>

<script type="module">
import { createClient } from 'https://esm.sh/@supabase/supabase-js@2';

const supabase = createClient(
  'https://ovpwauuptzyhzlbhgcex.supabase.co',
  'sb_publishable_22d222QCrTSkrLxo6nklWQ_OPjwTDAH'
);

async function loginWithMagicLink(event) {
  event.preventDefault();
  const email = document.getElementById('email').value;
  const { data, error } = await supabase.auth.signInWithOtp({ email });

  if (error) alert(error.message);
  else alert('Check your email f√ºr den Aeropus Login-Link!');
}

document.getElementById('magicForm').addEventListener('submit', loginWithMagicLink);
</script>

</body>
</html>
